within removereservation was a useless switch causing an infinite loop